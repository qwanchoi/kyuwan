<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ajax/get.html</title>
</head>
<body>
	<div id="show"></div>
		<table border = "1">
			<thead>
				<tr>
					<th>학생번호</th><th>학생이름</th><th>영어</th><th>국어</th>
				</tr>
			</thead>
			<tbody id='list'>
			</tbody>
		</table>
	<script>
		// 서버에 파일을 요청하고 읽어들이도록.
		let xhtp = new XMLHttpRequest(); // new String();)
		xhtp.open("get", "../studentList.json"); // 요청페이지 지정.
		xhtp.send(); // 호출시작.
		xhtp.onload = function() {
			// console.log(xhtp.response);
			// document.getElementById('show').innerHTML = xhtp.response;
			let data = JSON.parse(xhtp.response);
			// console.log(data);
			data.forEach((obj) => {
				document.getElementById('list').appendChild(makeTr(obj));
			});
			//document.getElementById('list').appendChild(makeTr(obj));
		};
		
		function makeTr(student) {
			let tr = document.createElement('tr');
			for(field in student) {
				let td = document.createElement('td');
				//console.log(td);
				td.innerHTML = student[field];
				tr.appendChild(td);
			}
			return tr;
		}
		
	</script>
</body>
</html>